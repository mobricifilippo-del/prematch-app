<!doctype html>
<html lang="it">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>PreMatch — Demo</title>
<meta name="description" content="PreMatch: esplora società e partite. Semplice. Pulita. Gratuita."/>
<link rel="preconnect" href="https://images.unsplash.com">
<style>
  :root{
    --bg:#0b1420; --panel:#111c2b; --panel2:#0f1a28;
    --text:#e9eef6; --muted:#9fb0c6; --accent:#1f8aee;
    --ok:#22c55e; --chip:#0b7bdd; --shadow:0 10px 30px rgba(0,0,0,.35);
    --card:#0f1b2d; --ring:#1f8aee33;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, 'Helvetica Neue', Arial, 'Noto Sans', 'Apple Color Emoji','Segoe UI Emoji', 'Segoe UI Symbol'; color:var(--text); background:radial-gradient(1200px 600px at 50% -200px,#0f2340 20%,#0b1420 60%) fixed;}
  a{color:var(--text); text-decoration:none}
  .wrap{max-width:1100px; margin:0 auto; padding:16px}
  header{position:sticky; top:0; z-index:20; backdrop-filter:saturate(140%) blur(6px); background:linear-gradient( to bottom, #0b1420dd 30%, #0b142000 );}
  .topbar{display:flex; align-items:center; gap:12px; padding:10px 6px}
  .logo{display:flex; align-items:center; gap:10px; font-weight:700; font-size:20px}
  .ball{width:34px; height:34px; border-radius:50%; background:#0f375f; display:grid; place-items:center; box-shadow: inset 0 0 0 2px #2a9d8f;}
  .ball::after{content:"⚽"; filter:drop-shadow(0 1px 0 #0006)}
  .actions{margin-left:auto; display:flex; gap:10px}
  .btn{display:inline-flex; align-items:center; gap:8px; padding:10px 14px; border-radius:12px; background:#0e1b2c; color:#dfe7f2; border:1px solid #28405e; box-shadow:var(--shadow); transition:.2s}
  .btn:hover{transform:translateY(-1px); border-color:#3a5a84}
  .btn.primary{background:#1a7ce6; border-color:#1a7ce6; color:white}
  .hero{margin-top:14px; padding:18px; border-radius:16px; background:linear-gradient(180deg,#0f1d31,#0b1420); border:1px solid #1a2a42; box-shadow:var(--shadow)}
  h1{margin:0 0 8px; font-size:36px; letter-spacing:.3px}
  .muted{color:var(--muted)}
  /* sport list */
  .sports{margin-top:18px; display:grid; gap:16px}
  .card{display:flex; align-items:center; gap:14px; padding:16px; border-radius:18px; background:linear-gradient(180deg,var(--panel),var(--panel2)); border:1px solid #1c2b41; box-shadow:var(--shadow)}
  .thumb{flex:0 0 auto; width:64px; height:64px; border-radius:50%; background:#0d2238 center/cover no-repeat; box-shadow:0 0 0 4px #0f1d31, 0 0 0 6px #1f2f47, inset 0 0 0 2px #0007}
  .card h3{margin:0; font-size:22px}
  .pill{margin-left:auto; display:flex; gap:10px}
  .chip{padding:8px 12px; border-radius:999px; background:#0d1b2e; border:1px solid #274161; color:#bfd3ea; font-weight:600}
  .btn.small{padding:8px 12px; border-radius:999px}
  @media(min-width:720px){ .sports{grid-template-columns:1fr 1fr} }
  /* step panels */
  .panel{margin-top:18px; padding:18px; border-radius:16px; background:linear-gradient(180deg,var(--panel),var(--panel2)); border:1px solid #1b2a40; box-shadow:var(--shadow)}
  .grid{display:grid; gap:10px}
  .grid.cols-3{grid-template-columns: repeat(3,1fr)}
  .grid.cols-2{grid-template-columns: repeat(2,1fr)}
  .option{padding:12px; background:#0e1b2c; border:1px solid #253b59; color:#dfe7f2; border-radius:12px; text-align:center; font-weight:600; cursor:pointer}
  .option:hover{border-color:#3c5990; transform:translateY(-1px)}
  .h2{margin:0 0 12px; font-size:24px}
  .crumbs{display:flex; gap:6px; flex-wrap:wrap; margin-bottom:12px}
  .crumb{padding:6px 10px; border:1px dashed #33527d; border-radius:999px; font-size:12px; color:#cde}
  .list{display:grid; gap:10px}
  .row{display:flex; align-items:center; justify-content:space-between; gap:10px; padding:12px; background:#0e1b2c; border:1px solid #263b58; border-radius:12px}
  footer{padding:28px 12px 44px; text-align:center; color:#b9c8da}
</style>
</head>
<body>
<header>
  <div class="wrap topbar">
    <div class="logo"><span class="ball"></span> PreMatch</div>
    <div class="actions">
      <a class="btn" href="#" id="sponsor-btn">Crea account sponsor</a>
      <a class="btn primary" href="#" id="login-btn">Login</a>
    </div>
  </div>
</header>

<main class="wrap">
  <!-- HERO -->
  <section class="hero" id="home-hero">
    <h1>Scegli lo sport</h1>
    <div class="muted">Naviga le società e scopri le prossime partite.<br/>Nessuna registrazione richiesta per esplorare.</div>
  </section>

  <!-- SPORT LIST -->
  <section class="sports" id="sport-list"></section>

  <!-- STEP PANEL -->
  <section class="panel" id="step-panel" hidden>
    <div class="crumbs" id="crumbs"></div>
    <div id="step-content"></div>
  </section>
</main>

<footer>
  <div class="wrap">
    <div>© 2025 PreMatch — Semplice. Pulita. Gratuita. · <a href="#">Privacy</a> · <a href="#">Supporto</a></div>
  </div>
</footer>

<script>
/* -------------------------
   DATA
--------------------------*/
const sports = [
  {
    key:'calcio', name:'Calcio',
    img:'https://images.unsplash.com/photo-1543326727-cf6c39e8f84f?q=80&w=600&auto=format&fit=crop',
    colors:{ring:'#06d6a0', glow:'#073b4c'}
  },
  {
    key:'futsal', name:'Futsal',
    img:'https://images.unsplash.com/photo-1522771930-78848d9293e8?q=80&w=600&auto=format&fit=crop',
    colors:{ring:'#ffd166', glow:'#7a5200'}
  },
  {
    key:'basket', name:'Basket',
    img:'https://images.unsplash.com/photo-1505666287802-931dc83948e9?q=80&w=600&auto=format&fit=crop',
    colors:{ring:'#f77f00', glow:'#5b3000'}
  },
  {
    key:'volley', name:'Volley',
    img:'https://images.unsplash.com/photo-1517649763962-0c623066013b?q=80&w=600&auto=format&fit=crop',
    colors:{ring:'#bbb4ff', glow:'#3c2a99'}
  },
  {
    key:'rugby', name:'Rugby',
    img:'https://images.unsplash.com/photo-1459865264687-595d652de67e?q=80&w=600&auto=format&fit=crop',
    colors:{ring:'#ffb703', glow:'#6b3d00'}
  }
];

const regions = [
  'Piemonte','Valle d\'Aosta','Lombardia','Trentino-Alto Adige','Veneto','Friuli Venezia Giulia','Liguria','Emilia-Romagna','Toscana','Umbria','Marche','Lazio','Abruzzo','Molise','Campania','Puglia','Basilicata','Calabria','Sicilia','Sardegna'
];

const demoClubs = [
  // puoi popolare davvero in seguito: qui è solo una demo filtrabile
  {sport:'calcio', regione:'Lazio', genere:'M', nome:'AS Roma Academy'},
  {sport:'calcio', regione:'Lazio', genere:'F', nome:'Lazio Women'},
  {sport:'basket', regione:'Lombardia', genere:'M', nome:'Olimpia Milano'},
  {sport:'volley', regione:'Veneto', genere:'F', nome:'Imoco Conegliano'},
  {sport:'futsal', regione:'Abruzzo', genere:'M', nome:'Acqua&Sapone'},
  {sport:'rugby', regione:'Veneto', genere:'M', nome:'Benetton Rugby'}
];

/* -------------------------
   STATE
--------------------------*/
const state = {
  sport:null,
  regione:null,
  genere:null // 'M' | 'F'
};

/* -------------------------
   RENDER: HOME (SPORT)
--------------------------*/
const listEl = document.getElementById('sport-list');
function renderSports(){
  listEl.innerHTML='';
  sports.forEach(s=>{
    const card=document.createElement('div');
    card.className='card';
    const thumb=document.createElement('div');
    thumb.className='thumb';
    thumb.style.backgroundImage=`url('${s.img}')`;
    thumb.style.boxShadow = `0 0 0 4px #0f1d31, 0 0 0 6px ${s.colors.ring}55, 0 0 30px 0 ${s.colors.glow}55`;

    const title=document.createElement('div');
    title.innerHTML=`<h3>${s.name}</h3><div class="muted">Esplora società</div>`;

    const pill=document.createElement('div');
    pill.className='pill';
    const chip=document.createElement('span'); chip.className='chip'; chip.textContent='Società';
    const open=document.createElement('a'); open.href='#'; open.className='btn small'; open.textContent='Apri';
    pill.append(chip, open);

    card.append(thumb,title,pill);
    card.addEventListener('click', (e)=>{ if(e.target===open||e.currentTarget===card) goRegion(s.key, s.name); });
    listEl.append(card);
  });
}
renderSports();

/* -------------------------
   STEPS
--------------------------*/
const panel=document.getElementById('step-panel');
const crumbsEl=document.getElementById('crumbs');
const contentEl=document.getElementById('step-content');

function setCrumbs(){
  crumbsEl.innerHTML='';
  if(state.sport) addCrumb('Sport', sports.find(x=>x.key===state.sport)?.name, ()=>resetTo('sport'));
  if(state.regione) addCrumb('Regione', state.regione, ()=>resetTo('regione'));
  if(state.genere) addCrumb('Genere', state.genere==='M'?'Maschile':'Femminile', ()=>resetTo('genere'));
  function addCrumb(label,value,cb){
    const c=document.createElement('span');
    c.className='crumb'; c.textContent=`${label}: ${value}`;
    c.style.cursor='pointer';
    c.onclick=cb;
    crumbsEl.append(c);
  }
}
function resetTo(level){
  if(level==='sport'){ state.regione=null; state.genere=null; renderRegion(); }
  else if(level==='regione'){ state.genere=null; renderGender(); }
  else if(level==='genere'){ renderGender(); }
}

function goRegion(sportKey, sportName){
  state.sport=sportKey;
  panel.hidden=false;
  renderRegion();
  window.scrollTo({top:document.body.scrollHeight, behavior:'smooth'});
}
function renderRegion(){
  setCrumbs();
  contentEl.innerHTML=`<h2 class="h2">Scegli la regione</h2>
    <div class="grid cols-3" id="regions"></div>`;
  const grid=document.getElementById('regions');
  regions.forEach(r=>{
    const b=document.createElement('button');
    b.className='option'; b.textContent=r;
    b.onclick=()=>{ state.regione=r; renderGender(); };
    grid.append(b);
  });
}

function renderGender(){
  setCrumbs();
  contentEl.innerHTML=`<h2 class="h2">Categoria</h2>
    <div class="grid cols-2">
      <button class="option" id="gM">Maschile</button>
      <button class="option" id="gF">Femminile</button>
    </div>`;
  document.getElementById('gM').onclick=()=>{ state.genere='M'; renderClubs(); };
  document.getElementById('gF').onclick=()=>{ state.genere='F'; renderClubs(); };
}

function renderClubs(){
  setCrumbs();
  const {sport,regione,genere}=state;
  const list = demoClubs.filter(c=>c.sport===sport && c.regione===regione && c.genere===genere);
  const niceSport = sports.find(s=>s.key===sport)?.name || 'Sport';

  contentEl.innerHTML=`<h2 class="h2">${niceSport} — ${regione} — ${genere==='M'?'Maschile':'Femminile'}</h2>
    <div class="list" id="club-list"></div>`;
  const listEl=document.getElementById('club-list');

  if(!list.length){
    const empty=document.createElement('div');
    empty.className='row';
    empty.innerHTML=`<div class="muted">Nessuna società ancora in questa categoria. </div>
                     <a class="btn small" href="#" onclick="alert('Qui andrà la richiesta di aggiunta società')">Segnala società</a>`;
    listEl.append(empty);
  } else {
    list.forEach(c=>{
      const row=document.createElement('div'); row.className='row';
      row.innerHTML=`<strong>${c.nome}</strong><a class="btn small" href="#">Visita</a>`;
      listEl.append(row);
    });
  }
}

/* Demo actions header */
document.getElementById('sponsor-btn').onclick=(e)=>{e.preventDefault(); alert('Flusso sponsor (registrazione) — placeholder.')};
document.getElementById('login-btn').onclick=(e)=>{e.preventDefault(); alert('Login / Registrazione — placeholder.')}
</script>
</body>
</html>
