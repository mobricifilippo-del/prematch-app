<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>PreMatch — Demo</title>
  <meta name="description" content="PreMatch demo" />
  <style>
    :root{
      --bg:#0c1522;--panel:#0f1f32;--panel2:#11243a;
      --text:#e8eef7;--muted:#a9b6c8;--brand:#17b169;
      --chip:#0b7bdd;--accent:#6688ff;
      --shadow:0 10px 30px rgba(0,0,0,.35);
      --radius:16px
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;background:radial-gradient(1200px 800px at 80% -200px,#18314f00,#18314f40),linear-gradient(180deg,#0b1626,#0a1320);
      color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Ubuntu,"Helvetica Neue",Arial,sans-serif
    }
    a{color:var(--text);text-decoration:none}
    .max{max-width:980px;margin:0 auto;padding:18px}
    header{
      position:sticky;top:0;z-index:5;backdrop-filter:saturate(150%) blur(10px);
      background:rgba(10,19,32,.55);border-bottom:1px solid rgba(255,255,255,.06)
    }
    .bar{display:flex;align-items:center;gap:12px;padding:12px 0}
    .logo{display:flex;align-items:center;gap:10px;font-weight:700;font-size:18px}
    .logo-ico{width:28px;height:28px;border-radius:50%;background:
      radial-gradient(circle at 60% 40%,#fff 0 22%,#e4ecff 23% 40%,#b8c9ff 41% 100%);
      box-shadow:inset 0 0 0 2px #0a1320, 0 2px 6px rgba(0,0,0,.35);
      position:relative}
    .logo-ico:after{ /* cuciture pallone */
      content:"";position:absolute;inset:0;
      background:
        radial-gradient(circle at 50% 28%,transparent 0 18%,#0a1320 19% 19.6%,transparent 19.7% 100%),
        radial-gradient(circle at 28% 58%,transparent 0 18%,#0a1320 19% 19.6%,transparent 19.7% 100%),
        radial-gradient(circle at 72% 58%,transparent 0 18%,#0a1320 19% 19.6%,transparent 19.7% 100%)
    }
    .btn{background:#0e2845;border:1px solid #21456c;color:#dce7ff;padding:10px 14px;border-radius:12px}
    .btn.primary{background:var(--brand);border-color:#129158;color:#04130c}
    h1{font-size:28px;margin:8px 0 2px}
    .muted{color:var(--muted)}
    /* cards sport elenco */
    .list{display:grid;gap:14px;margin-top:16px}
    .card{
      background:linear-gradient(145deg,#0f2034,#0f1d31);border:1px solid #1e3550;border-radius:var(--radius);
      padding:16px;box-shadow:var(--shadow);display:flex;align-items:center;gap:16px;justify-content:space-between
    }
    .row{display:flex;align-items:center;gap:14px}
    .ball{width:56px;height:56px;border-radius:50%;display:grid;place-items:center;box-shadow:inset 0 0 0 2px rgba(0,0,0,.5)}
    .ball svg{width:40px;height:40px;display:block}
    .pill{background:#102a47;border:1px solid #264d78;color:#cfe1ff;padding:8px 14px;border-radius:12px}
    .go{background:#2d7ef6;border-color:#1d64c6}
    /* stepper contenitore */
    .panel{margin-top:22px;background:linear-gradient(180deg,#0f1f32,#0e1a2a);border:1px solid #1e3550;border-radius:var(--radius);box-shadow:var(--shadow)}
    .panel .hd{padding:14px 16px;border-bottom:1px solid #1e3550;font-weight:600}
    .panel .bd{padding:14px 16px}
    .chips{display:flex;flex-wrap:wrap;gap:8px;margin:4px 0 10px}
    .chip{
      background:#0f2846;border:1px dashed #2e517a;border-radius:999px;color:#cfe1ff;font-size:13px;padding:6px 10px
    }
    label{display:block;margin:10px 0 6px;color:#cfe1ff}
    select{width:100%;background:#0d2440;color:#eaf2ff;border:1px solid #2c4d78;border-radius:10px;padding:10px}
    .grid{display:grid;gap:10px}
    .grid.two{grid-template-columns:repeat(2,minmax(0,1fr))}
    @media (min-width:760px){ .list{gap:16px}.grid.two{grid-template-columns:repeat(3,minmax(0,1fr))} }
    .card.soc{align-items:flex-start;flex-direction:column}
    .soc .badge{display:inline-block;background:#0f2e18;color:#9ff0c5;border:1px solid #1f6340;padding:4px 8px;border-radius:999px;font-size:12px}
    .footer{padding:36px 0;color:#99a8bd;text-align:center}
  </style>
</head>
<body>
  <header>
    <div class="max bar">
      <div class="logo"><span class="logo-ico"></span> PreMatch</div>
      <div style="margin-left:auto;display:flex;gap:10px">
        <a class="btn" href="#" onclick="openSponsor()">Crea account sponsor</a>
        <a class="btn primary" href="#" onclick="fakeLogin()">Login</a>
      </div>
    </div>
  </header>

  <main class="max">
    <h1>Scegli lo sport</h1>
    <div class="muted">Naviga le società e scopri le prossime partite. Nessuna registrazione richiesta per esplorare.</div>

    <!-- Elenco sport -->
    <section id="sport-list" class="list"></section>

    <!-- Stepper filtro -->
    <section id="flow" class="panel" style="display:none">
      <div class="hd">Filtri</div>
      <div class="bd">
        <div class="chips" id="crumbs"></div>

        <div id="step-region">
          <label for="regionSel">Regione</label>
          <select id="regionSel"></select>
        </div>

        <div id="step-gender" style="display:none">
          <label for="genderSel">Genere</label>
          <select id="genderSel">
            <option value="">— Seleziona —</option>
            <option value="Maschile">Maschile</option>
            <option value="Femminile">Femminile</option>
          </select>
        </div>

        <div id="step-league" style="display:none">
          <label for="leagueSel">Campionato di riferimento</label>
          <select id="leagueSel"></select>
        </div>
      </div>
    </section>

    <!-- Società -->
    <section id="clubs" class="panel" style="display:none">
      <div class="hd">Società</div>
      <div class="bd grid two" id="clubGrid"></div>
    </section>

  </main>

  <div class="footer">
    © 2025 PreMatch — Semplice. Pulita. Gratuita. ·
    <a href="#">Privacy</a> · <a href="#">Supporto</a>
  </div>

  <script>
    /* ---------- dati demo ---------- */
    const SPORTS = [
      { id:'calcio',  name:'Calcio',  icon: ballSVG('soccer') },
      { id:'futsal',  name:'Futsal',  icon: ballSVG('futsal') },
      { id:'basket',  name:'Basket',  icon: ballSVG('basket') },
      { id:'volley',  name:'Volley',  icon: ballSVG('volley') },
      { id:'rugby',   name:'Rugby',   icon: ballSVG('rugby') },
    ];

    const REGIONS = ['Piemonte','Lombardia','Veneto','Emilia-Romagna','Toscana','Lazio','Campania','Puglia','Sicilia','Sardegna'];

    // campionati demo per sport + genere
    const LEAGUES = {
      calcio: {
        Maschile:['Serie A','Serie B','Serie C','Dilettanti','Scuola Calcio'],
        Femminile:['Serie A Femminile','Serie B Femminile','Giovanili','Scuola Calcio']
      },
      futsal: {
        Maschile:['Serie A','Serie A2','Serie B','Under 19'],
        Femminile:['Serie A Femminile','Serie A2 Femminile','Giovanili']
      },
      basket: {
        Maschile:['Serie A','Serie A2','Serie B','U19'],
        Femminile:['Serie A1','Serie A2','Giovanili']
      },
      volley: {
        Maschile:['SuperLega','Serie A2','Serie B','Settore Giovanile'],
        Femminile:['Serie A1','Serie A2','Serie B1','Settore Giovanile']
      },
      rugby: {
        Maschile:['Top10','Serie A','Serie B','U19'],
        Femminile:['Serie A Femminile','Giovanili']
      }
    };

    // società demo (chiave composta)
    const CLUBS = [
      { sport:'calcio', region:'Lazio', gender:'Maschile', league:'Serie A', name:'S.S. Lazio', verified:true, next:'Dom 20:45' },
      { sport:'calcio', region:'Lazio', gender:'Femminile', league:'Serie B Femminile', name:'Roma Women Academy', verified:false, next:'Sab 15:00' },
      { sport:'basket', region:'Lombardia', gender:'Maschile', league:'Serie A', name:'Olimpia Milano', verified:true, next:'Ven 20:30' },
      { sport:'volley', region:'Veneto', gender:'Femminile', league:'Serie A1', name:'Imoco Conegliano', verified:true, next:'Sab 17:00' },
      { sport:'futsal', region:'Campania', gender:'Maschile', league:'Serie A', name:'Feldi Eboli', verified:true, next:'Sab 18:30' },
      { sport:'rugby', region:'Veneto', gender:'Maschile', league:'Top10', name:'Petrarca Padova', verified:false, next:'Dom 16:00' }
    ];

    /* ---------- stato UI ---------- */
    const state = { sport:null, region:null, gender:null, league:null };

    const sportList = document.getElementById('sport-list');
    const flow      = document.getElementById('flow');
    const crumbs    = document.getElementById('crumbs');
    const regionSel = document.getElementById('regionSel');
    const genderSel = document.getElementById('genderSel');
    const leagueSel = document.getElementById('leagueSel');
    const stepGender= document.getElementById('step-gender');
    const stepLeague= document.getElementById('step-league');

    const clubsWrap = document.getElementById('clubs');
    const clubGrid  = document.getElementById('clubGrid');

    /* ---------- render sport list ---------- */
    function renderSports(){
      sportList.innerHTML = '';
      SPORTS.forEach(s=>{
        const card = document.createElement('div');
        card.className = 'card';
        card.innerHTML = `
          <div class="row">
            <div class="ball">${s.icon}</div>
            <div>
              <div style="font-weight:700;font-size:20px">${s.name}</div>
              <div class="muted">Esplora società</div>
            </div>
          </div>
          <div class="row">
            <a class="pill" href="#" onclick="openClubs('${s.id}')">Società</a>
            <a class="pill go" href="#" onclick="startFlow('${s.id}')">Apri</a>
          </div>
        `;
        sportList.appendChild(card);
      });
    }

    /* ---------- flusso ---------- */
    function startFlow(sportId){
      resetFlow();
      state.sport = sportId;
      flow.style.display = 'block';
      clubsWrap.style.display = 'none';

      // crumb sport
      updateCrumbs();

      // regioni
      regionSel.innerHTML = `<option value="">— Seleziona —</option>` + REGIONS.map(r=>`<option>${r}</option>`).join('');
      regionSel.onchange = ()=>{
        state.region = regionSel.value || null;
        state.gender = null; state.league=null;
        genderSel.value = '';
        leagueSel.innerHTML = '';
        stepGender.style.display = state.region ? 'block':'none';
        stepLeague.style.display = 'none';
        clubsWrap.style.display = 'none';
        updateCrumbs();
      };

      // genere
      genderSel.onchange = ()=>{
        state.gender = genderSel.value || null;
        state.league = null;
        updateLeagues();
        updateCrumbs();
      };

      // campionato
      leagueSel.onchange = ()=>{
        state.league = leagueSel.value || null;
        updateCrumbs();
        renderClubs();
      };

      window.scrollTo({top:flow.offsetTop-10,behavior:'smooth'});
    }

    function updateLeagues(){
      if(!state.sport || !state.gender){ stepLeague.style.display='none'; return; }
      const arr = (LEAGUES[state.sport]||{})[state.gender]||[];
      leagueSel.innerHTML = `<option value="">— Seleziona —</option>` + arr.map(x=>`<option>${x}</option>`).join('');
      stepLeague.style.display = arr.length ? 'block':'none';
      clubsWrap.style.display = 'none';
    }

    function resetFlow(){
      Object.assign(state,{ sport:null,region:null,gender:null,league:null });
      regionSel.innerHTML = ''; genderSel.value=''; leagueSel.innerHTML='';
      stepGender.style.display='none'; stepLeague.style.display='none';
      crumbs.innerHTML=''; clubsWrap.style.display='none';
    }

    function updateCrumbs(){
      const items = [];
      if(state.sport){
        const s = SPORTS.find(x=>x.id===state.sport);
        items.push(`<span class="chip">Sport: ${s?.name||state.sport}</span>`);
      }
      if(state.region) items.push(`<span class="chip">Regione: ${state.region}</span>`);
      if(state.gender) items.push(`<span class="chip">Genere: ${state.gender}</span>`);
      if(state.league) items.push(`<span class="chip">Campionato: ${state.league}</span>`);
      crumbs.innerHTML = items.join(' ');
    }

    /* ---------- società ---------- */
    function renderClubs(){
      const { sport, region, gender, league } = state;
      if(!sport || !region || !gender || !league){ clubsWrap.style.display='none'; return; }

      const list = CLUBS.filter(c =>
        c.sport===sport && c.region===region && c.gender===gender && c.league===league
      );

      clubGrid.innerHTML = list.length ? '' : `<div class="muted">Nessuna società trovata per questi filtri (demo).</div>`;

      list.forEach(c=>{
        const el = document.createElement('div');
        el.className = 'card soc';
        el.innerHTML = `
          <div style="display:flex;align-items:center;gap:10px;justify-content:space-between;width:100%">
            <div>
              <div style="font-weight:700">${c.name}</div>
              <div class="muted" style="font-size:13px">${c.region} · ${c.league}</div>
            </div>
            ${c.verified ? `<span class="badge">Verificata</span>` : ``}
          </div>
          <div class="muted" style="margin-top:8px">Prossima partita: ${c.next}</div>
        `;
        clubGrid.appendChild(el);
      });

      clubsWrap.style.display = 'block';
      window.scrollTo({top:clubsWrap.offsetTop-10,behavior:'smooth'});
    }

    function openClubs(sportId){
      startFlow(sportId);
      // scelta rapida: precompilo Regione/GGenere/Campionato (solo per mostrare)
      regionSel.value = 'Lazio'; regionSel.dispatchEvent(new Event('change'));
      genderSel.value = 'Maschile'; genderSel.dispatchEvent(new Event('change'));
      const first = leagueSel.options[1]?.value;
      if(first){ leagueSel.value = first; leagueSel.dispatchEvent(new Event('change')); }
    }

    /* ---------- sponsor/login demo ---------- */
    function openSponsor(){ alert('Area sponsor: demo (creazione account non attiva).'); }
    function fakeLogin(){ alert('Login demo: qui in produzione aprirebbe il form.\nNessuna modifica non richiesta è stata fatta.'); }

    /* ---------- utilità: SVG palloni ---------- */
    function ballSVG(kind){
      const K = {
        soccer:{bg:'#38d36f',fg:'#0a1320',path:`M20 2a18 18 0 1 0 0 36a18 18 0 1 0 0-36Zm0 6l6 3l2 6l-4 5h-8l-4-5l2-6l6-3Zm-10 12l4 5l-2 7m8-12h8m-8 0l-4 5m4-5l4 5m4 7l-2-7m-8 0l-2 7`},
        futsal:{bg:'#f7b02d',fg:'#1a1200',path:`M20 2a18 18 0 1 0 0 36a18 18 0 1 0 0-36Zm0 5c8 0 13 6 13 13s-5 13-13 13S7 27 7 20 12 7 20 7Zm-8 13h16m-12-8l8 16m8-8H12m12-8l-8 16`},
        basket:{bg:'#ff8a33',fg:'#251300',path:`M20 2a18 18 0 1 0 0 36a18 18 0 1 0 0-36Zm0 0v36M2 20h36M6 8c6 6 6 18 0 24m28-24c-6 6-6 18 0 24`},
        volley:{bg:'#bdb7ff',fg:'#1e1347',path:`M20 2a18 18 0 1 0 0 36a18 18 0 1 0 0-36Zm-16 12c10 6 22 6 32 0M6 26c10-6 22-6 32 0M12 6c6 10 6 22 0 32m16-32c-6 10-6 22 0 32`},
        rugby:{bg:'#ffb357',fg:'#361800',path:`M7 20c0-10 13-16 24-12c4 1 4 11 0 18c-11 4-24-1-24-6Zm5-2c6-5 16-6 18-4m-20 8c6 5 16 6 18 4`},
      }[kind] || K.soccer;
      return `
        <svg viewBox="0 0 40 40" aria-hidden="true">
          <circle cx="20" cy="20" r="19" fill="${K.bg}"/>
          <path d="${K.path}" fill="none" stroke="${K.fg}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>`;
    }

    // avvio
    renderSports();
  </script>
</body>
</html>
